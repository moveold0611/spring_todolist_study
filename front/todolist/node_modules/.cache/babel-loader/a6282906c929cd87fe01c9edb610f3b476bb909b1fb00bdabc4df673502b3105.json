{"ast":null,"code":"var _s = $RefreshSig$();\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useQuery } from 'react-query';\nimport { useEffect } from 'react';\nimport { tokenCheck } from '../apis/api/account';\nfunction AuthRoute({\n  element\n}) {\n  _s();\n  const location = useLocation();\n  const pathname = location.pathname;\n  useEffect(() => [tokenCheck()], []);\n\n  //     window.location.replace(\"/\"); 새로고침\n\n  const authenticateState = useQuery([\"authenticate\"], authenticate, {\n    retry: 0,\n    refetchOnWindowFocus: false\n  }); // useQuery는 모두 get요청\n\n  // if(authenticateState.isError) {\n  //     for(let path of permitAllPath) {\n  //         if(pathname.startsWith(path)) {\n  //             return element;\n  //         }\n  //     }\n  //     return <Navigate to={\"/\"}/>\n  // }\n\n  // for(let path of permitAllPath) {\n  //     if(pathname.startsWith(path)) {\n  //         return <Navigate to={\"/\"}/>\n  //     }\n  // }\n\n  return element;\n}\n_s(AuthRoute, \"MKUEpwNSevOfgqu33O5DDV95/VE=\", false, function () {\n  return [useLocation, useQuery];\n});\n_c = AuthRoute;\nexport default AuthRoute;\nvar _c;\n$RefreshReg$(_c, \"AuthRoute\");","map":{"version":3,"names":["Navigate","useLocation","useQuery","useEffect","tokenCheck","AuthRoute","element","_s","location","pathname","authenticateState","authenticate","retry","refetchOnWindowFocus","_c","$RefreshReg$"],"sources":["C:/aws/spring_todolist/front/todolist/src/auth/AuthRoute.jsx"],"sourcesContent":["import { Navigate, useLocation } from 'react-router-dom';\r\nimport { useQuery } from 'react-query';\r\nimport { useEffect } from 'react';\r\nimport { tokenCheck } from '../apis/api/account';\r\n\r\nfunction AuthRoute({ element }) {\r\n    const location = useLocation();\r\n    const pathname = location.pathname;\r\n\r\n\r\n    useEffect(() => [\r\n        tokenCheck()\r\n    ], [])\r\n\r\n    //     window.location.replace(\"/\"); 새로고침\r\n\r\n    const authenticateState\r\n        = useQuery([\"authenticate\"], authenticate, {\r\n            retry: 0,\r\n            refetchOnWindowFocus: false\r\n        }); // useQuery는 모두 get요청\r\n\r\n\r\n    // if(authenticateState.isError) {\r\n    //     for(let path of permitAllPath) {\r\n    //         if(pathname.startsWith(path)) {\r\n    //             return element;\r\n    //         }\r\n    //     }\r\n    //     return <Navigate to={\"/\"}/>\r\n    // }\r\n\r\n    // for(let path of permitAllPath) {\r\n    //     if(pathname.startsWith(path)) {\r\n    //         return <Navigate to={\"/\"}/>\r\n    //     }\r\n    // }\r\n\r\n    \r\n    return element;\r\n}\r\n\r\nexport default AuthRoute;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,QAAQ,QAAQ,aAAa;AACtC,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,qBAAqB;AAEhD,SAASC,SAASA,CAAC;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAC5B,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAMQ,QAAQ,GAAGD,QAAQ,CAACC,QAAQ;EAGlCN,SAAS,CAAC,MAAM,CACZC,UAAU,CAAC,CAAC,CACf,EAAE,EAAE,CAAC;;EAEN;;EAEA,MAAMM,iBAAiB,GACjBR,QAAQ,CAAC,CAAC,cAAc,CAAC,EAAES,YAAY,EAAE;IACvCC,KAAK,EAAE,CAAC;IACRC,oBAAoB,EAAE;EAC1B,CAAC,CAAC,CAAC,CAAC;;EAGR;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAGA,OAAOP,OAAO;AAClB;AAACC,EAAA,CAnCQF,SAAS;EAAA,QACGJ,WAAW,EAWtBC,QAAQ;AAAA;AAAAY,EAAA,GAZTT,SAAS;AAqClB,eAAeA,SAAS;AAAC,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}